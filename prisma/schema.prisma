generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

model User {
  id                     String     @id @default(cuid())
  name                   String?
  email                  String?    @unique
  emailVerified          DateTime?
  image                  String?
  hashedPassword         String?
  createdAt              DateTime   @default(now())
  updatedAt              DateTime   @updatedAt
  agencyId               String?
  role                   User_role? @default(SUBACCOUNT_USER)
  avatarUrl              String?    @db.Text
  userRoleId             String?
  userTypeId             String?
  discordUsername        String?
  discordId              String?    @unique
  discordVerified        Boolean    @default(false)
  stripeConnectAccountId String?    @unique
  admin                  Boolean    @default(false)
  clerkId                String?    @unique
  firstName              String?
  lastName               String?
  imageUrl               String?
  courses                Course[]   @relation("InstructorCourses")
  enrollments            Enrollment[]

  @@index([agencyId])
}

model Course {
  id               String   @id @default(cuid())
  userId           String
  instructorId     String?
  title            String   @db.Text
  slug             String?  @unique
  description      String?  @db.Text
  imageUrl         String?  @db.Text
  price            Float?
  isPublished      Boolean  @default(false)
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
  courseCategoryId String?
  instructor       User?            @relation("InstructorCourses", fields: [instructorId], references: [id])
  enrollments      Enrollment[]
  chapters         CourseChapter[]
  category         CourseCategory?  @relation(fields: [courseCategoryId], references: [id])

  @@index([courseCategoryId])
  @@index([instructorId])
  @@index([slug])
}

model Enrollment {
  id         String   @id @default(cuid())
  userId     String
  courseId   String
  progress   Int      @default(0)
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
  
  user       User     @relation(fields: [userId], references: [id])
  course     Course   @relation(fields: [courseId], references: [id])
  
  @@unique([userId, courseId])
  @@index([userId])
  @@index([courseId])
}

model Account {
  id                String  @id
  userId            String
  type              String
  provider          String
  providerAccountId String
  refresh_token     String?
  access_token      String?
  expires_at        Int?
  token_type        String?
  scope             String?
  id_token          String?
  session_state     String?

  @@unique([provider, providerAccountId])
  @@index([userId])
}

model Action {
  id           String      @id
  name         String
  type         Action_type
  createdAt    DateTime    @default(now())
  updatedAt    DateTime
  automationId String
  order        Int
  laneId       String      @default("0")

  @@index([automationId])
}

model AddOns {
  id        String   @id
  createdAt DateTime @default(now())
  updatedAt DateTime
  name      String
  active    Boolean  @default(false)
  priceId   String   @unique
  agencyId  String?

  @@index([agencyId])
}

model Agency {
  id               String   @id
  connectAccountId String?  @default("")
  customerId       String   @default("")
  name             String
  agencyLogo       String   @db.Text
  companyEmail     String   @db.Text
  companyPhone     String
  whiteLabel       Boolean  @default(true)
  address          String
  city             String
  zipCode          String
  state            String
  country          String
  goal             Int      @default(5)
  createdAt        DateTime @default(now())
  updatedAt        DateTime
}

model AgencySidebarOption {
  id        String                   @id
  name      String                   @default("Menu")
  link      String                   @default("#")
  icon      AgencySidebarOption_icon @default(info)
  agencyId  String
  createdAt DateTime                 @default(now())
  updatedAt DateTime

  @@index([agencyId])
}

model Artist {
  id              String   @id
  artistName      String
  bio             String?  @db.Text
  location        String?
  profileImageUrl String?  @db.Text
  website         String?  @db.Text
  socialLinks     Json?
  genres          Json
  subgenres       Json?
  influences      Json?
  primaryGenre    String?
  soundSample     String?  @db.Text
  createdAt       DateTime @default(now())
  updatedAt       DateTime
  userId          String   @unique

  @@index([userId])
}

model ArtistSettings {
  id                   String   @id
  theme                String   @default("system")
  notificationsEnabled Boolean  @default(true)
  emailNotifications   Boolean  @default(true)
  profileVisibility    String   @default("public")
  analyticsPrivacy     Boolean  @default(false)
  languagePreference   String   @default("en")
  tourCompleted        Boolean  @default(false)
  createdAt            DateTime @default(now())
  updatedAt            DateTime
  artistId             String   @unique

  @@index([artistId])
}

model Attachment {
  id        String   @id
  name      String
  url       String   @db.Text
  courseId  String
  createdAt DateTime @default(now())
  updatedAt DateTime

  @@index([courseId])
}

model Automation {
  id           String   @id
  name         String
  createdAt    DateTime @default(now())
  updatedAt    DateTime
  triggerId    String?
  published    Boolean  @default(false)
  subAccountId String

  @@index([subAccountId])
  @@index([triggerId])
}

model AutomationInstance {
  id           String   @id
  createdAt    DateTime @default(now())
  updatedAt    DateTime
  automationId String
  active       Boolean  @default(false)

  @@index([automationId])
}

model Billboard {
  id        String   @id
  storeId   String
  label     String
  imageUrl  String
  createdAt DateTime @default(now())
  updatedAt DateTime @default(now())

  @@index([storeId])
}

model Campaign {
  id     String   @id
  name   String
  date   DateTime
  time   String
  userId String

  @@index([userId])
}

model Category {
  id   String @id
  name String
}

model Channel {
  id        String       @id
  name      String
  type      Channel_type @default(TEXT)
  profileId String
  serverId  String
  createdAt DateTime     @default(now())
  updatedAt DateTime

  @@index([profileId])
  @@index([serverId])
}

model ChapterEmbedding {
  id        String   @id
  embedding Json?
  chapterId String   @unique
  createdAt DateTime @default(now())
  updatedAt DateTime

  @@index([chapterId])
}

model ClassName {
  id         String   @id
  name       String
  color      String
  createdAt  DateTime @default(now())
  updatedAt  DateTime
  funnelId   String
  customData String?  @db.LongText

  @@index([funnelId])
}

model CoachAvailability {
  id          String   @id
  date        DateTime
  startTime   String
  endTime     String
  isAvailable Boolean  @default(true)
  userId      String
  createdAt   DateTime @default(now())
  updatedAt   DateTime

  @@index([date])
  @@index([userId])
}

model CoachProfile {
  id                     String   @id
  userId                 String
  category               String
  location               String
  imageSrc               String
  basePrice              Int
  title                  String
  description            String   @db.Text
  discordUsername        String
  discordId              String?
  alternativeContact     String?
  professionalBackground String?  @db.Text
  certifications         String?  @db.Text
  notableProjects        String?  @db.Text
  timezone               String
  availableDays          String   @db.Text
  availableHours         String?
  isActive               Boolean  @default(true)
  createdAt              DateTime @default(now())
  updatedAt              DateTime
  stripeAccountId        String?
  stripeConnectComplete  Boolean  @default(false)
  stripeAccountStatus    String?  @default("pending")

  @@index([userId])
}

model CoachingListing {
  id            String   @id
  title         String
  description   String
  imageSrc      String
  createdAt     DateTime @default(now())
  category      String
  roomCount     Int
  bathroomCount Int
  guestCount    Int
  locationValue String
  userId        String
  price         Int

  @@index([userId])
}

model CoachingReservation {
  id                   String   @id
  date                 DateTime @default(now())
  guestCount           Int
  userId               String
  listingId            String
  createdAt            DateTime @default(now())
  endDate              DateTime @default(now())
  startDate            DateTime @default(now())
  updatedAt            DateTime
  discordChannelId     String?
  discordSetupComplete Boolean  @default(false)

  @@index([listingId])
  @@index([userId])
}

model CoachingSession {
  id                   String                     @id @default(cuid())
  coachId              String                     // Coach's clerkId
  studentId            String                     // Student's clerkId  
  scheduledDate        DateTime
  startTime            String                     // e.g., "14:00"
  endTime              String                     // e.g., "15:00"
  duration             Int                        // in minutes
  status               CoachingSessionStatus      @default(SCHEDULED)
  notes                String?                    @db.Text
  sessionType          String                     @default("video") // video, audio, screen-share
  totalCost            Float
  discordChannelId     String?
  discordRoleId        String?
  discordSetupComplete Boolean                    @default(false)
  reminderSent         Boolean                    @default(false)
  createdAt            DateTime                   @default(now())
  updatedAt            DateTime                   @updatedAt

  @@index([coachId])
  @@index([studentId])
  @@index([scheduledDate])
  @@index([status])
}

model Companion {
  id           String   @id
  userId       String
  userName     String
  src          String
  name         String   @db.Text
  description  String
  instructions String   @db.Text
  seed         String   @db.Text
  createdAt    DateTime @default(now())
  updatedAt    DateTime
  categoryId   String

  @@index([categoryId])
}

model CompanionMessage {
  id          String                @id
  role        CompanionMessage_role
  content     String                @db.Text
  createdAt   DateTime              @default(now())
  updatedAt   DateTime
  companionId String
  userId      String

  @@index([companionId])
}

model Contact {
  id           String   @id
  name         String
  email        String
  createdAt    DateTime @default(now())
  updatedAt    DateTime
  subAccountId String

  @@index([subAccountId])
}

model Conversation {
  id          String @id
  memberOneId String
  memberTwoId String

  @@unique([memberOneId, memberTwoId])
  @@index([memberTwoId])
}

model CourseCategory {
  id      String   @id
  name    String   @unique
  courses Course[]
}

model CourseChapter {
  id          String   @id
  title       String
  description String?  @db.Text
  videoUrl    String?  @db.Text
  position    Int
  isPublished Boolean  @default(false)
  isFree      Boolean  @default(false)
  courseId    String
  createdAt   DateTime @default(now())
  updatedAt   DateTime
  audioUrl    String?  @db.Text
  course      Course   @relation(fields: [courseId], references: [id])

  @@index([courseId])
}

model CreditBalance {
  id                 String   @id
  availableCredits   Int      @default(0)
  totalEarnedCredits Int      @default(0)
  totalUsedCredits   Int      @default(0)
  lastUpdated        DateTime
  userId             String   @unique

  @@index([userId])
}

model CreditTransaction {
  id              String                 @id
  amount          Int
  type            CreditTransaction_type
  description     String?
  stripeInvoiceId String?
  createdAt       DateTime               @default(now())
  userId          String
  submissionId    String?

  @@index([createdAt])
  @@index([userId])
}

model Curator {
  id                   String              @id
  name                 String
  curatorType          Curator_curatorType
  email                String
  bio                  String              @db.Text
  platformUrl          String?             @db.Text
  genres               Json?
  reviewTime           String?             @db.Text
  acceptingSubmissions Boolean?            @default(true)
  submissionGuidelines String?             @db.Text
  followers            Int?
  responseRate         Int?
  avgResponseTime      Int?
  approvalRate         Int?
  socialLinks          Json?
  profileVisibility    String              @default("public")
  createdAt            DateTime            @default(now())
  updatedAt            DateTime
  userId               String?
  overallApprovalRate  Int?
  totalFollowers       Int?
  website              String?             @db.Text

  @@index([userId])
}

model CuratorPlaylist {
  id                   String                         @id
  name                 String
  description          String?                        @db.Text
  platformType         CuratorPlaylist_platformType
  platformUrl          String                         @db.Text
  followers            Int?
  genres               Json
  acceptingSubmissions Boolean                        @default(true)
  submissionGuidelines String?                        @db.Text
  responseRate         Int?
  approvalRate         Int?
  createdAt            DateTime                       @default(now())
  updatedAt            DateTime
  curatorId            String
  submissionType       CuratorPlaylist_submissionType @default(PLAYLIST_CURATOR)

  @@index([curatorId])
}

model Destination {
  id                   String                      @id
  name                 String
  description          String?                     @db.Text
  destinationType      Destination_destinationType
  platformType         Destination_platformType
  platformUrl          String                      @db.Text
  followers            Int?
  genres               Json
  acceptingSubmissions Boolean                     @default(true)
  submissionGuidelines String?                     @db.Text
  responseRate         Int?
  approvalRate         Int?
  avgResponseTime      Int?
  isActive             Boolean                     @default(true)
  createdAt            DateTime                    @default(now())
  updatedAt            DateTime
  curatorId            String

  @@index([acceptingSubmissions])
  @@index([curatorId])
  @@index([destinationType])
}

model DirectMessage {
  id             String   @id
  content        String   @db.Text
  fileUrl        String?  @db.Text
  memberId       String
  conversationId String
  deleted        Boolean  @default(false)
  createdAt      DateTime @default(now())
  updatedAt      DateTime

  @@index([conversationId])
  @@index([memberId])
}

model EmailAutomation {
  id        String   @id
  name      String
  userId    String
  createdAt DateTime @default(now())
  updatedAt DateTime

  @@index([userId])
}

model EmailAutomationEdge {
  id           String @id
  source       String
  target       String
  automationId String

  @@index([automationId])
}

model EmailAutomationNode {
  id           String  @id
  type         String
  position     Json
  data         Json
  automationId String
  templateId   String?

  @@index([automationId])
  @@index([templateId])
}

model EmailTemplate {
  id        String   @id
  subject   String   @db.Text
  content   String   @db.Text
  userId    String
  createdAt DateTime @default(now())
  updatedAt DateTime

  @@index([userId])
}

model Favorite {
  id         String @id
  favoriteId String
  userId     String

  @@index([userId])
}

model Funnel {
  id            String   @id
  name          String
  createdAt     DateTime @default(now())
  updatedAt     DateTime
  description   String?
  published     Boolean  @default(false)
  subDomainName String?  @unique
  favicon       String?  @db.Text
  subAccountId  String
  liveProducts  String?  @default("[]")

  @@index([subAccountId])
}

model FunnelPage {
  id           String   @id
  name         String
  pathName     String   @default("")
  createdAt    DateTime @default(now())
  updatedAt    DateTime
  visits       Int      @default(0)
  content      String?  @db.LongText
  order        Int
  previewImage String?  @db.Text
  funnelId     String

  @@index([funnelId])
}

model Invitation {
  id       String            @id
  email    String            @unique
  agencyId String
  status   Invitation_status @default(PENDING)
  role     Invitation_role   @default(SUBACCOUNT_USER)

  @@index([agencyId])
}

model Lane {
  id         String   @id
  name       String
  createdAt  DateTime @default(now())
  updatedAt  DateTime
  pipelineId String
  order      Int      @default(0)

  @@index([pipelineId])
}

model Media {
  id           String   @id
  type         String?
  name         String
  link         String   @unique
  subAccountId String
  createdAt    DateTime @default(now())
  updatedAt    DateTime

  @@index([subAccountId])
}

model Member {
  id        String      @id
  role      Member_role @default(GUEST)
  profileId String
  serverId  String
  createdAt DateTime    @default(now())
  updatedAt DateTime

  @@index([profileId])
  @@index([serverId])
}

model Message {
  id          String        @id
  content     String        @db.Text
  fileUrl     String?       @db.Text
  memberId    String
  channelId   String
  deleted     Boolean       @default(false)
  createdAt   DateTime      @default(now())
  updatedAt   DateTime
  companionId String?
  role        Message_role?
  userId      String?

  @@index([channelId])
  @@index([companionId])
  @@index([memberId])
}

model MigrationCode {
  id                   String    @id
  code                 String    @unique
  email                String
  courseId             String
  originalPurchaseId   String?
  originalPurchaseDate DateTime?
  used                 Boolean   @default(false)
  createdAt            DateTime  @default(now())
  expiresAt            DateTime?

  @@index([code])
  @@index([courseId])
  @@index([email])
}

model MusicProfile {
  id       String @id
  platform String
  userId   String

  @@index([userId])
}

model MuxData {
  id         String  @id
  chapterId  String  @unique
  assetId    String
  playbackId String?
}

model Notification {
  id           String   @id
  notification String
  agencyId     String
  subAccountId String?
  userId       String
  createdAt    DateTime @default(now())
  updatedAt    DateTime

  @@index([agencyId])
  @@index([subAccountId])
  @@index([userId])
}

model Permissions {
  id           String  @id
  email        String
  subAccountId String
  access       Boolean

  @@index([email])
  @@index([subAccountId])
}

model Pipeline {
  id           String   @id
  name         String
  createdAt    DateTime @default(now())
  updatedAt    DateTime
  subAccountId String

  @@index([subAccountId])
}

model PlatformLink {
  id        String                @id
  platform  PlatformLink_platform
  url       String                @db.Text
  isPrimary Boolean               @default(false)
  createdAt DateTime              @default(now())
  updatedAt DateTime
  trackId   String

  @@index([trackId])
}

model Playlist {
  id                   String             @id
  name                 String
  slug                 String?            @unique
  description          String?            @db.Text
  genre                String?
  mood                 String?
  isPublic             Boolean            @default(false)
  userId               String
  createdAt            DateTime           @default(now())
  updatedAt            DateTime
  contactEmail         String?            @db.Text
  submissionEnabled    Boolean            @default(false)
  submissionGuidelines String?            @db.Text
  platform             Playlist_platform?
  imagePath            String?            @db.Text
  url                  String?            @db.Text

  @@index([createdAt])
  @@index([userId])
}

model Plugin {
  id           String             @id
  name         String
  slug         String?            @default("")
  author       String?
  description  String?            @db.Text
  image        String?            @db.Text
  userId       String?
  createdAt    DateTime           @default(now())
  updatedAt    DateTime
  categoryId   String?
  optInFormUrl String?
  price        Float?
  pricingType  Plugin_pricingType @default(FREE)
  purchaseUrl  String?
  pluginTypeId String?
  audioUrl     String?            @db.Text
  videoUrl     String?            @db.Text
  videoScript  String?            @db.Text

  @@index([categoryId])
  @@index([pluginTypeId])
  @@index([userId])
}

model PluginCategory {
  id        String   @id
  name      String
  createdAt DateTime @default(now())
  updatedAt DateTime
}

model PluginEffectCategory {
  id           String   @id
  name         String
  createdAt    DateTime @default(now())
  updatedAt    DateTime
  pluginTypeId String?

  @@index([pluginTypeId])
}

model PluginInstrumentCategory {
  id           String   @id
  name         String
  createdAt    DateTime @default(now())
  updatedAt    DateTime
  pluginTypeId String?

  @@index([pluginTypeId])
}

model PluginStudioToolCategory {
  id           String   @id
  name         String
  createdAt    DateTime @default(now())
  updatedAt    DateTime
  pluginTypeId String?

  @@index([pluginTypeId])
}

model PluginType {
  id        String   @id
  name      String   @unique
  createdAt DateTime @default(now())
  updatedAt DateTime
}

model Profile {
  id        String   @id
  userId    String   @unique
  name      String
  imageUrl  String   @db.Text
  email     String   @db.Text
  createdAt DateTime @default(now())
  updatedAt DateTime
}

model Prompt {
  id        Int      @id @default(autoincrement())
  userId    String?
  prompt    String   @db.LongText
  result    String?
  image     String?
  createdAt DateTime @default(now())
}

model PurchaseCourse {
  id        String   @id
  userId    String
  courseId  String
  createdAt DateTime @default(now())
  updatedAt DateTime

  @@unique([userId, courseId])
  @@index([courseId])
}

model Resource {
  id                     String   @id
  title                  String
  slug                   String   @unique
  description            String   @db.Text
  fileName               String
  fileUrl                String   @db.Text
  imageUrl               String?  @db.Text
  requiresLeadGen        Boolean  @default(false)
  followGateRequirements Json?
  downloads              Int      @default(0)
  type                   String?
  userId                 String
  createdAt              DateTime @default(now())
  updatedAt              DateTime

  @@index([userId])
}

model ResourceLead {
  id         String   @id
  name       String
  email      String
  resourceId String
  createdAt  DateTime @default(now())
  updatedAt  DateTime

  @@index([email])
  @@index([resourceId])
}

model Server {
  id         String   @id
  name       String
  imageUrl   String   @db.Text
  inviteCode String   @unique
  profileId  String
  createdAt  DateTime @default(now())
  updatedAt  DateTime

  @@index([profileId])
}

model SharedTrack {
  id         String   @id
  trackUrl   String
  trackName  String
  artistName String
  albumImage String
  userId     String?
  createdAt  DateTime @default(now())
  updatedAt  DateTime

  @@index([userId])
}

model Song {
  id        String         @id
  title     String
  artist    String         @default("Unknown Artist")
  slug      String?        @unique
  duration  Int            @default(0)
  url       String?
  userId    String
  imagePath String?
  createdAt DateTime       @default(now())
  updatedAt DateTime
  platform  Song_platform?

  @@index([artist])
  @@index([createdAt])
  @@index([userId])
}

model SoundpitchSubscription {
  id                   String                      @id
  plan                 SoundpitchSubscription_plan
  status               String
  currentPeriodStart   DateTime
  currentPeriodEnd     DateTime
  cancelAtPeriodEnd    Boolean                     @default(false)
  stripeCustomerId     String?
  stripeSubscriptionId String?
  stripePriceId        String?
  createdAt            DateTime                    @default(now())
  updatedAt            DateTime
  userId               String                      @unique

  @@index([userId])
}

model Sounds {
  id           String             @id
  name         String
  slug         String             @unique @default("")
  author       String?
  description  String?            @db.Text
  image        String?            @db.Text
  userId       String?
  createdAt    DateTime           @default(now())
  updatedAt    DateTime
  pricingType  Sounds_pricingType @default(FREE)
  price        Float?
  optInFormUrl String?
  purchaseUrl  String?
  categoryId   String?

  @@index([categoryId])
  @@index([userId])
}

model SoundsCategory {
  id        String   @id
  name      String   @unique
  createdAt DateTime @default(now())
  updatedAt DateTime
}

model StorageFile {
  id        String   @id
  name      String
  path      String
  folderId  String?
  createdAt DateTime @default(now())
  updatedAt DateTime
  userId    String

  @@index([folderId])
  @@index([userId])
}

model StorageFolder {
  id        String   @id
  name      String
  parentId  String?
  createdAt DateTime @default(now())
  updatedAt DateTime
  userId    String

  @@index([parentId])
  @@index([userId])
}

model Store {
  id        String   @id
  name      String
  userId    String
  createdAt DateTime @default(now())
  updatedAt DateTime
}

model StoreCategory {
  id          String   @id
  storeId     String
  billboardId String
  name        String
  createdAt   DateTime @default(now())
  updatedAt   DateTime @default(now())

  @@index([billboardId])
  @@index([storeId])
}

model StripeCustomer {
  id               String   @id
  userId           String   @unique
  stripeCustomerId String   @unique
  createdAt        DateTime @default(now())
  updatedAt        DateTime
}

model SubAccount {
  id               String   @id
  connectAccountId String?  @default("")
  name             String
  subAccountLogo   String   @db.Text
  createdAt        DateTime @default(now())
  updatedAt        DateTime
  companyEmail     String   @db.Text
  companyPhone     String
  goal             Int      @default(5)
  address          String
  city             String
  zipCode          String
  state            String
  country          String
  agencyId         String

  @@index([agencyId])
}

model SubAccountSidebarOption {
  id           String                       @id
  name         String                       @default("Menu")
  link         String                       @default("#")
  icon         SubAccountSidebarOption_icon @default(info)
  createdAt    DateTime                     @default(now())
  updatedAt    DateTime
  subAccountId String?

  @@index([subAccountId])
}

model Submission {
  id            String            @id
  status        Submission_status @default(PENDING)
  feedback      String?           @db.Text
  createdAt     DateTime          @default(now())
  updatedAt     DateTime
  trackId       String
  curatorId     String
  playlistId    String?
  emailSubject  String?
  emailBody     String?           @db.Text
  emailSentAt   DateTime?
  emailId       String?
  emailOpened   Boolean           @default(false)
  emailOpenedAt DateTime?
  targetId      String?
  destinationId String?

  @@index([curatorId])
  @@index([destinationId])
  @@index([playlistId])
  @@index([targetId])
  @@index([trackId])
}

model Subscription {
  id                   String             @id
  createdAt            DateTime           @default(now())
  updatedAt            DateTime
  plan                 Subscription_plan?
  price                String?
  active               Boolean            @default(false)
  priceId              String
  customerId           String
  currentPeriodEndDate DateTime
  subscritiptionId     String             @unique
  agencyId             String?            @unique

  @@index([customerId])
}

model Tag {
  id           String   @id
  name         String
  color        String
  createdAt    DateTime @default(now())
  updatedAt    DateTime
  subAccountId String

  @@index([subAccountId])
}

model Ticket {
  id             String   @id
  name           String
  createdAt      DateTime @default(now())
  updatedAt      DateTime
  laneId         String
  order          Int      @default(0)
  value          Decimal?
  description    String?
  customerId     String?
  assignedUserId String?

  @@index([assignedUserId])
  @@index([customerId])
  @@index([laneId])
}

model Track {
  id               String      @id
  title            String
  genre            Track_genre
  duration         String
  audioPath        String      @db.Text
  description      String?     @db.Text
  status           String      @default("draft")
  createdAt        DateTime    @default(now())
  updatedAt        DateTime
  artistId         String
  acousticness     Float?
  albumImageUrl    String?     @db.Text
  albumName        String?
  artistNames      Json?
  audioFeatures    Json?
  danceability     Float?
  durationMs       Int?
  energy           Float?
  explicit         Boolean     @default(false)
  instrumentalness Float?
  isrc             String?
  key              Int?
  liveness         Float?
  loudness         Float?
  mode             Int?
  popularity       Int?
  previewUrl       String?     @db.Text
  releaseDate      String?
  speechiness      Float?
  spotifyGenres    Json?
  spotifyId        String?     @unique
  spotifyUrl       String?     @db.Text
  tempo            Float?
  timeSignature    Int?
  valence          Float?

  @@index([artistId])
  @@index([energy])
  @@index([popularity])
  @@index([spotifyId])
  @@index([tempo])
}

model Trigger {
  id           String       @id
  name         String
  type         Trigger_type
  createdAt    DateTime     @default(now())
  updatedAt    DateTime
  subAccountId String

  @@index([subAccountId])
}

model UserProgress {
  id          String   @id
  userId      String
  chapterId   String
  isCompleted Boolean  @default(false)
  createdAt   DateTime @default(now())
  updatedAt   DateTime

  @@unique([userId, chapterId])
  @@index([chapterId])
}

model UserSubscription {
  id                        String    @id
  userId                    String    @unique
  stripe_customer_id        String?   @unique
  stripe_subscription_id    String?   @unique
  stripe_price_id           String?   @unique
  stripe_current_period_end DateTime? @unique
}

model UserType {
  id     String        @id
  type   UserType_type
  userId String?

  @@unique([id, type])
}

model VectorEmbedding {
  id        String   @id
  content   String?  @db.Text
  embedding Json?
  userId    String
  createdAt DateTime @default(now())
  updatedAt DateTime

  @@index([userId])
}

model PlaylistToSong {
  A String
  B String

  @@unique([A, B], map: "_PlaylistToSong_AB_unique")
  @@index([B], map: "_PlaylistToSong_B_index")
  @@map("_PlaylistToSong")
}

model TagToTicket {
  A String
  B String

  @@unique([A, B], map: "_TagToTicket_AB_unique")
  @@index([B], map: "_TagToTicket_B_index")
  @@map("_TagToTicket")
}

enum CompanionMessage_role {
  user
  system
}

enum Member_role {
  ADMIN
  MODERATOR
  GUEST
}

enum PlatformLink_platform {
  SPOTIFY
  YOUTUBE
  SOUNDCLOUD
  APPLE_MUSIC
  BANDCAMP
  OTHER
}

enum SoundpitchSubscription_plan {
  BASIC
  PRO
  PREMIUM
  NONE
}

enum Submission_status {
  PENDING
  APPROVED
  REJECTED
  REVIEWING
}

enum UserType_type {
  BUYER
  SELLER
}

enum Action_type {
  CREATE_CONTACT
}

enum Channel_type {
  TEXT
  AUDIO
  VIDEO
}

enum CreditTransaction_type {
  PURCHASE
  SUBSCRIPTION_ALLOCATION
  SUBMISSION_USAGE
  PROMOTIONAL
  REFUND
  EXPIRATION
}

enum Curator_curatorType {
  INDEPENDENT_CURATOR
  MUSIC_BLOGGER
  PLAYLIST_CURATOR
  RADIO_HOST
  RECORD_LABEL
  MAGAZINE_EDITOR
  INFLUENCER
}

enum Track_genre {
  ELECTRONIC
  HIPHOP
  INDIE
  POP
  RNB
  ROCK
  AMBIENT
  JAZZ
  CLASSICAL
  HOUSE
  TECHNO
  LOFI_CHILL
  COUNTRY
  LATIN
  KPOP_JPOP
  REGGAE_DANCEHALL
  GOSPEL_UPLIFT
  WORLD_GLOBAL
  EXPERIMENTAL
}

enum Trigger_type {
  CONTACT_FORM
}

enum AgencySidebarOption_icon {
  settings
  chart
  calendar
  check
  chip
  compass
  database
  flag
  home
  info
  link
  lock
  messages
  notification
  payment
  power
  receipt
  shield
  star
  tune
  videorecorder
  wallet
  warning
  headphone
  send
  pipelines
  person
  category
  contact
  clipboardIcon
}

enum CuratorPlaylist_platformType {
  SPOTIFY
  YOUTUBE
  SOUNDCLOUD
  APPLE_MUSIC
  BANDCAMP
  OTHER
}

enum Destination_destinationType {
  PLAYLIST
  BLOG
  YOUTUBE_CHANNEL
  RADIO_SHOW
  PODCAST
  RECORD_LABEL
  MAGAZINE
  NEWSLETTER
  WEBSITE
}

enum Invitation_status {
  ACCEPTED
  REVOKED
  PENDING
}

enum SubAccountSidebarOption_icon {
  settings
  chart
  calendar
  check
  chip
  compass
  database
  flag
  home
  info
  link
  lock
  messages
  notification
  payment
  power
  receipt
  shield
  star
  tune
  videorecorder
  wallet
  warning
  headphone
  send
  pipelines
  person
  category
  contact
  clipboardIcon
}

enum Subscription_plan {
  price_1OYxkqFj9oKEERu1NbKUxXxN
  price_1OYxkqFj9oKEERu1KfJGWxgN
}

enum Destination_platformType {
  SPOTIFY
  YOUTUBE
  SOUNDCLOUD
  APPLE_MUSIC
  BANDCAMP
  OTHER
}

enum Invitation_role {
  AGENCY_OWNER
  AGENCY_ADMIN
  SUBACCOUNT_USER
  SUBACCOUNT_GUEST
}

enum Message_role {
  user
  system
}

enum Sounds_pricingType {
  FREE
  PAID
}

enum User_role {
  AGENCY_OWNER
  AGENCY_ADMIN
  SUBACCOUNT_USER
  SUBACCOUNT_GUEST
}

enum Song_platform {
  SPOTIFY
  YOUTUBE
  SOUNDCLOUD
}

enum Plugin_pricingType {
  FREE
  PAID
}

enum Playlist_platform {
  SPOTIFY
  YOUTUBE
  SOUNDCLOUD
}

enum CuratorPlaylist_submissionType {
  INDEPENDENT_CURATOR
  MUSIC_BLOGGER
  PLAYLIST_CURATOR
  RADIO_HOST
  RECORD_LABEL
  MAGAZINE_EDITOR
  INFLUENCER
}

enum CoachingSessionStatus {
  SCHEDULED
  IN_PROGRESS
  COMPLETED
  CANCELLED
  NO_SHOW
}
